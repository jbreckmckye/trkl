(function(c,d){"function"===typeof define&&define.amd?define([],d):"object"===typeof module&&module.exports?module.exports=d():c.trkl=d()})(this,function(){function c(f){function c(a,b){-1===g.indexOf(a)&&g.push(a);b&&a(e)}function h(a){var b=e;e=a;g.forEach(function(a){a(e,b)})}var e=f,g=[];f=function(a){if(0<arguments.length)h(a);else{var b=d[d.length-1];b&&c(b.subscriber);return e}};f.subscribe=c;f.unsubscribe=function(a){var b=g;a=b.indexOf(a);-1!==a&&b.splice(a,1)};return f}var d=[];c.computed=
    function(f){function k(){if(-1!==d.indexOf(e))throw Error("Circular computation detected");d.push(e);try{var c=f()}catch(b){var a=b}d.pop();if(a)throw a;h(c)}var h=c(),e={subscriber:k};k();return h};return c});
function r(r){function n(r,n){~s.indexOf(r)||s.push(r),n&&r(f)}function i(r){var n=f;f=r,e.length=0;var t=s.length;for(u=0;u<t;u++)e.push(s[u]);for(u=0;u<t;u++)e[u](f,n)}function c(){var r=o[o.length-1];return r&&n(r.r),f}var f=r,s=[],a=function(r){if(!arguments.length)return c();i(r)};return a.subscribe=n,a.unsubscribe=function(r){t(s,r)},a}function n(r){if(-1!==o.indexOf(r))throw Error("Circular computation detected")}function t(r,n){var t=r.indexOf(n);-1!==t&&r.splice(t,1)}var u,o=[],e=[];r.computed=function(t){function u(){n(i),o.push(i);var r,u;try{u=t()}catch(n){r=n}if(o.pop(),r)throw r;e(u)}var e=r(),i={r:u};return u(),e},r.from=function(n){var t=r();return n(t),t},"object"==typeof module?module.exports=r:window.trkl=r;
function r(r){function n(r,n){~f.indexOf(r)||f.push(r),n&&r(c)}function e(r){var n=c;c=r,o.push.apply(o,f);for(var t=0;t<f.length;t++)o.pop()(c,n)}function i(){var r=u[u.length-1];return r&&n(r.r),c}var c=r,f=[],p=function(r){if(!arguments.length)return i();e(r)};return p.subscribe=n,p.unsubscribe=function(r){t(f,r)},p}function n(r){if(-1!==u.indexOf(r))throw Error("Circular computation detected")}function t(r,n){var t=r.indexOf(n);-1!==t&&r.splice(t,1)}var u=[],o=[];r.computed=function(t){function o(){n(i),u.push(i);var r,o;try{o=t()}catch(n){r=n}if(u.pop(),r)throw r;e(o)}var e=r(),i={r:o};return o(),e},r.from=function(n){var t=r();return n(t),t},"object"==typeof module?module.exports=r:window.trkl=r;